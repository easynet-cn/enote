//! 服务层模块
//!
//! 本模块包含所有业务逻辑实现，是应用程序的核心业务层。
//! 服务层负责处理复杂的业务逻辑，包括数据的 CRUD 操作、事务管理、
//! 数据转换以及跨实体的业务规则实现。
//!
//! # 模块结构
//! - [`note`]: 笔记服务，处理笔记的增删改查和搜索
//! - [`note_history`]: 笔记历史服务，记录和查询笔记变更历史
//! - [`notebook`]: 笔记本服务，管理笔记本的 CRUD 操作
//! - [`tag`]: 标签服务，管理标签的 CRUD 操作
//!
//! # 设计原则
//! - 所有数据库操作通过服务层进行，保持 command 层的简洁
//! - 使用事务确保数据一致性
//! - 返回 `anyhow::Result` 提供统一的错误处理

/// 笔记服务模块
///
/// 提供笔记的完整 CRUD 功能，包括：
/// - 创建笔记（含标签关联和历史记录）
/// - 更新笔记（自动记录变更历史）
/// - 删除笔记（级联删除标签关联）
/// - 分页搜索（支持笔记本、标签、关键词过滤）
pub(crate) mod note;

/// 笔记历史服务模块
///
/// 提供笔记变更历史的查询功能：
/// - 分页查询指定笔记的历史记录
/// - 支持查看创建、更新、删除操作的历史
pub(crate) mod note_history;

/// 笔记本服务模块
///
/// 提供笔记本的 CRUD 功能：
/// - 获取所有笔记本（按排序和更新时间排序）
/// - 创建、更新、删除笔记本
pub(crate) mod notebook;

/// 标签服务模块
///
/// 提供标签的 CRUD 功能：
/// - 获取所有标签（按排序和更新时间排序）
/// - 创建、更新、删除标签
pub(crate) mod tag;
